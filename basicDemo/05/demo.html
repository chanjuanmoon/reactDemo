<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>05 收集表单数据</title>
</head>

<body>
  <div id='test'></div>
  <script type="text/javascript" src='../js/react.development.js'></script>
  <script type="text/javascript" src='../js/react-dom.development.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.0/prop-types.js"></script>
  <script type="text/javascript" src='../js/babel.min.js'></script>
  <!-- 将jsx转化为js -->
  <script type="text/babel">
    /*实现功能如下：
      1.界面如下
      2.输入用户名密码后，点击登录提示输入信息
      3.不提交表单
       */
       class LoginForm extends React.Component{
        constructor(props){
          super(props);
          //初始化状态
          this.state = {
            pwd:'',
          }
          this.handleSubmit = this.handleSubmit.bind(this);
          this.handleChange = this.handleChange.bind(this);
        }
        handleSubmit(event){
            event.preventDefault();//阻止默认事件
            const name = this.nameInput.value;//非受控组件（不太建议使用）
            const {pwd} = this.state;//受控组件（建议使用）
            alert(`准备提交的用户名为${name},密码为${pwd}`);
        }
        handleChange(event){
          const pwd = event.target.value;
          this.setState({pwd});
        }
        render(){
          return (
            <form action='/test' onSubmit={this.handleSubmit}>
            用户名：<input type='text' ref={input => this.nameInput = input}/>
            密码：<input type='password' value={this.state.pwd} onChange={this.handleChange}/>
            <button type='submit'>登录</button>
            </form>
          )
        }
       }

       //渲染
       ReactDOM.render(<LoginForm/>,document.getElementById('test'));
    </script>
</body>

</html>